<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class DirectoryTaxonomyWriter
 | Apache Lucene.NET 4.8.0-beta00017 Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class DirectoryTaxonomyWriter
 | Apache Lucene.NET 4.8.0-beta00017 Documentation ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/logo/favicon.ico">
    <link rel="stylesheet" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.vendor.min.css">
    <link rel="stylesheet" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.css">
    <link rel="stylesheet" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="facet/toc.html">
  
  <meta property="docfx:rel" content="https://lucenenet.apache.org/docs/4.8.0-beta00017/">
  
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <span id="forkongithub"><a href="https://github.com/apache/lucenenet" target="_blank">Fork me on GitHub</a></span>
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="/">
                <img id="logo" class="svg" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/logo/lucene-net-color.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search">
            <ul class="level0 breadcrumb">
                <li>
                    <a href="https://lucenenet.apache.org/docs/4.8.0-beta00017/">API</a>
                     <span id="breadcrumb">
                        <ul class="breadcrumb">
                          <li></li>
                        </ul>
                    </span>   
                </li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter">


  <h1 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter" class="text-break">Class DirectoryTaxonomyWriter
</h1>
  <div class="markdown level0 summary"><p><a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html">ITaxonomyWriter</a> which uses a <span class="xref">Lucene.Net.Store.Directory</span> to store the taxonomy
information on disk, and keeps an additional in-memory cache of some or all
categories.</p>
 <p>
 In addition to the permanently-stored information in the <span class="xref">Lucene.Net.Store.Directory</span>,
 efficiency dictates that we also keep an in-memory cache of <b>recently
 seen</b> or <b>all</b> categories, so that we do not need to go back to disk
 for every category addition to see which ordinal this category already has,
 if any. A <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a> object determines the specific caching
 algorithm used.
 </p><p>
 For extending classes that need to control the <span class="xref">Lucene.Net.Index.IndexWriter</span> instance that is used,
 please see <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory.html">DirectoryTaxonomyIndexWriterFactory</a> class.
<p><div class="NOTE">
<h5>Note</h5>
<p>This API is experimental and might change in incompatible ways in the next release.</p>
</div>
</p>
 
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
    <div class="level1"><span class="xref">DirectoryTaxonomyWriter</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html">ITaxonomyWriter</a></div>
    <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
    <div><span class="xref">ITwoPhaseCommit</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Lucene.html">Lucene</a>.<a class="xref" href="Lucene.Net.html">Net</a>.<a class="xref" href="Lucene.Net.Facet.html">Facet</a>.<a class="xref" href="Lucene.Net.Facet.Taxonomy.html">Taxonomy</a>.<a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.html">Directory</a></h6>
  <h6><strong>Assembly</strong>: Lucene.Net.Facet.dll</h6>
  <h5 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public class DirectoryTaxonomyWriter : ITaxonomyWriter, IDisposable, ITwoPhaseCommit</code></pre>
  </div>
  <h3 id="constructors">Constructors
</h3>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyIndexWriterFactory_Lucene_Net_Store_Directory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor(Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory,Lucene.Net.Store.Directory)">DirectoryTaxonomyWriter(DirectoryTaxonomyIndexWriterFactory, Directory)</h4>
  <div class="markdown level1 summary"><p>Create this with <span class="xref">Lucene.Net.Index.OpenMode.CREATE_OR_APPEND</span> and <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CreateDefaultTaxonomyWriterCache">CreateDefaultTaxonomyWriterCache()</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public DirectoryTaxonomyWriter(DirectoryTaxonomyIndexWriterFactory indexWriterFactory, Directory directory)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory.html">DirectoryTaxonomyIndexWriterFactory</a></td>
        <td><span class="parametername">indexWriterFactory</span></td>
        <td><p>The <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory.html">DirectoryTaxonomyIndexWriterFactory</a> to use to create the <span class="xref">Lucene.Net.Index.IndexWriter</span>.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">directory</span></td>
        <td><p>The <span class="xref">Lucene.Net.Store.Directory</span> in which to store the taxonomy. Note that
the taxonomy is written directly to that directory (not to a
subdirectory of it).</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyIndexWriterFactory_Lucene_Net_Store_Directory_Lucene_Net_Index_OpenMode_Lucene_Net_Facet_Taxonomy_WriterCache_ITaxonomyWriterCache_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor(Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory,Lucene.Net.Store.Directory,Lucene.Net.Index.OpenMode,Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache)">DirectoryTaxonomyWriter(DirectoryTaxonomyIndexWriterFactory, Directory, OpenMode, ITaxonomyWriterCache)</h4>
  <div class="markdown level1 summary"><p>Construct a Taxonomy writer.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public DirectoryTaxonomyWriter(DirectoryTaxonomyIndexWriterFactory indexWriterFactory, Directory directory, OpenMode openMode, ITaxonomyWriterCache cache)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory.html">DirectoryTaxonomyIndexWriterFactory</a></td>
        <td><span class="parametername">indexWriterFactory</span></td>
        <td><p>A <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyIndexWriterFactory.html">DirectoryTaxonomyIndexWriterFactory</a> implementation that can be used to
customize the <span class="xref">Lucene.Net.Index.IndexWriter</span> configuration and writer itself that's used to
store the taxonomy index.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">directory</span></td>
        <td><p>The <span class="xref">Lucene.Net.Store.Directory</span> in which to store the taxonomy. Note that
the taxonomy is written directly to that directory (not to a
subdirectory of it).</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">OpenMode</span></td>
        <td><span class="parametername">openMode</span></td>
        <td><p>Specifies how to open a taxonomy for writing: <span class="xref">Lucene.Net.Index.OpenMode.APPEND</span>
means open an existing index for append (failing if the index does
not yet exist). <span class="xref">Lucene.Net.Index.OpenMode.CREATE</span> means create a new index (first
deleting the old one if it already existed).
<span class="xref">Lucene.Net.Index.OpenMode.CREATE_OR_APPEND</span> appends to an existing index if there
is one, otherwise it creates a new index.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a></td>
        <td><span class="parametername">cache</span></td>
        <td><p>A <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a> implementation which determines
the in-memory caching policy. See for example
<a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.LruTaxonomyWriterCache.html">LruTaxonomyWriterCache</a> and <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.Cl2oTaxonomyWriterCache.html">Cl2oTaxonomyWriterCache</a>.
If null or missing, <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CreateDefaultTaxonomyWriterCache">CreateDefaultTaxonomyWriterCache()</a> is used.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">CorruptIndexException</span></td>
        <td><p>if the taxonomy is corrupted.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">LockObtainFailedException</span></td>
        <td><p>if the taxonomy is locked by another writer. If it is known
that no other concurrent writer is active, the lock might
have been left around by an old dead process, and should be
removed using <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Unlock_Lucene_Net_Store_Directory_">Unlock(Directory)</a>.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.io.ioexception">IOException</a></td>
        <td><p>if another error occurred.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></td>
        <td><p>if <code class="paramref">indexWriterFactory</code> is <code>null</code></p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_Lucene_Net_Store_Directory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor(Lucene.Net.Store.Directory)">DirectoryTaxonomyWriter(Directory)</h4>
  <div class="markdown level1 summary"><p>Create this with <span class="xref">Lucene.Net.Index.OpenMode.CREATE_OR_APPEND</span>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public DirectoryTaxonomyWriter(Directory directory)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">directory</span></td>
        <td><p>The <span class="xref">Lucene.Net.Store.Directory</span> in which to store the taxonomy. Note that
the taxonomy is written directly to that directory (not to a
subdirectory of it).</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_Lucene_Net_Store_Directory_Lucene_Net_Index_OpenMode_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor(Lucene.Net.Store.Directory,Lucene.Net.Index.OpenMode)">DirectoryTaxonomyWriter(Directory, OpenMode)</h4>
  <div class="markdown level1 summary"><p>Creates a new instance with a default cache as defined by
<a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CreateDefaultTaxonomyWriterCache">CreateDefaultTaxonomyWriterCache()</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public DirectoryTaxonomyWriter(Directory directory, OpenMode openMode)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">directory</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">OpenMode</span></td>
        <td><span class="parametername">openMode</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter__ctor_Lucene_Net_Store_Directory_Lucene_Net_Index_OpenMode_Lucene_Net_Facet_Taxonomy_WriterCache_ITaxonomyWriterCache_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.#ctor(Lucene.Net.Store.Directory,Lucene.Net.Index.OpenMode,Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache)">DirectoryTaxonomyWriter(Directory, OpenMode, ITaxonomyWriterCache)</h4>
  <div class="markdown level1 summary"><p>Construct a Taxonomy writer.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public DirectoryTaxonomyWriter(Directory directory, OpenMode openMode, ITaxonomyWriterCache cache)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">directory</span></td>
        <td><p>The <span class="xref">Lucene.Net.Store.Directory</span> in which to store the taxonomy. Note that
the taxonomy is written directly to that directory (not to a
subdirectory of it).</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">OpenMode</span></td>
        <td><span class="parametername">openMode</span></td>
        <td><p>Specifies how to open a taxonomy for writing: <span class="xref">Lucene.Net.Index.OpenMode.APPEND</span>
means open an existing index for append (failing if the index does
not yet exist). <span class="xref">Lucene.Net.Index.OpenMode.CREATE</span> means create a new index (first
deleting the old one if it already existed).
<span class="xref">Lucene.Net.Index.OpenMode.CREATE_OR_APPEND</span> appends to an existing index if there
is one, otherwise it creates a new index.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a></td>
        <td><span class="parametername">cache</span></td>
        <td><p>A <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a> implementation which determines
the in-memory caching policy. See for example
<a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.LruTaxonomyWriterCache.html">LruTaxonomyWriterCache</a> and <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.Cl2oTaxonomyWriterCache.html">Cl2oTaxonomyWriterCache</a>.
If null or missing, <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CreateDefaultTaxonomyWriterCache">CreateDefaultTaxonomyWriterCache()</a> is used.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">CorruptIndexException</span></td>
        <td><p>if the taxonomy is corrupted.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">LockObtainFailedException</span></td>
        <td><p>if the taxonomy is locked by another writer. If it is known
that no other concurrent writer is active, the lock might
have been left around by an old dead process, and should be
removed using <a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Unlock_Lucene_Net_Store_Directory_">Unlock(Directory)</a>.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.io.ioexception">IOException</a></td>
        <td><p>if another error occurred.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="fields">Fields
</h3>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_INDEX_EPOCH" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.INDEX_EPOCH">INDEX_EPOCH</h4>
  <div class="markdown level1 summary"><p>Property name of user commit data that contains the index epoch. The epoch
changes whenever the taxonomy is recreated (i.e. opened with
<span class="xref">Lucene.Net.Index.OpenMode.CREATE</span>.</p>
<p>
Applications should not use this property in their commit data because it
will be overridden by this taxonomy writer.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public const string INDEX_EPOCH = &quot;index.epoch&quot;</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
</h3>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CommitData_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.CommitData*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CommitData" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.CommitData">CommitData</h4>
  <div class="markdown level1 summary"><p>Returns the commit user data map that was set on
<a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_SetCommitData_System_Collections_Generic_IDictionary_System_String_System_String__">SetCommitData(IDictionary&lt;string, string&gt;)</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual IDictionary&lt;string, string&gt; CommitData { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.idictionary-2">IDictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Count_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Count*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Count" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Count">Count</h4>
  <div class="markdown level1 summary"><p><a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_Count">Count</a> returns the number of categories in the taxonomy.</p>
<p></p>
Because categories are numbered consecutively starting with 0, it
means the taxonomy contains ordinals 0 through <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_Count">Count</a>-1.
<p></p>
Note that the number returned by <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_Count">Count</a> is often slightly higher
than the number of categories inserted into the taxonomy; This is
because when a category is added to the taxonomy, its ancestors
are also added automatically (including the root, which always get
ordinal 0).
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual int Count { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Directory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Directory*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Directory" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Directory">Directory</h4>
  <div class="markdown level1 summary"><p>Returns the <span class="xref">Lucene.Net.Store.Directory</span> of this taxonomy writer.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual Directory Directory { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_TaxonomyEpoch_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.TaxonomyEpoch*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_TaxonomyEpoch" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.TaxonomyEpoch">TaxonomyEpoch</h4>
  <div class="markdown level1 summary"><p>Expert: returns current index epoch, if this is a
near-real-time reader.  Used by
<a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyReader.html">DirectoryTaxonomyReader</a> to support NRT.</p>
<p><div class="NOTE">
<h5>Note</h5>
<p>This API is for internal purposes only and might change in incompatible ways in the next release.</p>
</div>
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public long TaxonomyEpoch { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
</h3>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_AddCategory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.AddCategory*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_AddCategory_Lucene_Net_Facet_Taxonomy_FacetLabel_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.AddCategory(Lucene.Net.Facet.Taxonomy.FacetLabel)">AddCategory(FacetLabel)</h4>
  <div class="markdown level1 summary"><p>NOTE to inheritors: This method can be called from the constructor to add the root category
(e.g. if the index is empty). Therefore, if you override the AddCategory method, you should be aware
that it will be called before your state is fully initialized.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual int AddCategory(FacetLabel categoryPath)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.FacetLabel.html">FacetLabel</a></td>
        <td><span class="parametername">categoryPath</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_AddTaxonomy_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.AddTaxonomy*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_AddTaxonomy_Lucene_Net_Store_Directory_Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_IOrdinalMap_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.AddTaxonomy(Lucene.Net.Store.Directory,Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.IOrdinalMap)">AddTaxonomy(Directory, IOrdinalMap)</h4>
  <div class="markdown level1 summary"><p>Takes the categories from the given taxonomy directory, and adds the
missing ones to this taxonomy. Additionally, it fills the given
<a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.IOrdinalMap.html">DirectoryTaxonomyWriter.IOrdinalMap</a> with a mapping from the original ordinal to the new
ordinal.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void AddTaxonomy(Directory taxoDir, DirectoryTaxonomyWriter.IOrdinalMap map)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">taxoDir</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.html">DirectoryTaxonomyWriter</a>.<a class="xref" href="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.IOrdinalMap.html">IOrdinalMap</a></td>
        <td><span class="parametername">map</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Commit_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Commit*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Commit" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Commit">Commit()</h4>
  <div class="markdown level1 summary"><p>The second phase of a 2-phase commit. Implementations should ideally do
very little work in this method (following <span class="xref">Lucene.Net.Index.ITwoPhaseCommit.PrepareCommit()</span>, and
after it returns, the caller can assume that the changes were successfully
committed to the underlying storage.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void Commit()</code></pre>
  </div>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CreateDefaultTaxonomyWriterCache_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.CreateDefaultTaxonomyWriterCache*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_CreateDefaultTaxonomyWriterCache" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.CreateDefaultTaxonomyWriterCache">CreateDefaultTaxonomyWriterCache()</h4>
  <div class="markdown level1 summary"><p>Defines the default <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a> to use in constructors
which do not specify one.</p>
<p>
The current default is <a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.Cl2oTaxonomyWriterCache.html">Cl2oTaxonomyWriterCache</a> constructed
with the parameters (1024, 0.15f, 3), i.e., the entire taxonomy is
cached in memory while building it.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public static ITaxonomyWriterCache CreateDefaultTaxonomyWriterCache()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Dispose_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Dispose*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Dispose" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Dispose">Dispose()</h4>
  <div class="markdown level1 summary"><p>Frees used resources as well as closes the underlying <span class="xref">Lucene.Net.Index.IndexWriter</span>,
which commits whatever changes made to it to the underlying
<span class="xref">Lucene.Net.Store.Directory</span>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public void Dispose()</code></pre>
  </div>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Dispose_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Dispose*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Dispose_System_Boolean_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Dispose(System.Boolean)">Dispose(bool)</h4>
  <div class="markdown level1 summary"><p>A hook for extending classes to close additional resources that were used.
The default implementation closes the <span class="xref">Lucene.Net.Index.IndexReader</span> as well as the
<a class="xref" href="Lucene.Net.Facet.Taxonomy.WriterCache.ITaxonomyWriterCache.html">ITaxonomyWriterCache</a> instances that were used.</p>
<p><b>NOTE:</b> if you override this method, you should include a
<code>base.Dispose(disposing)</code> call in your implementation.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">protected virtual void Dispose(bool disposing)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></td>
        <td><span class="parametername">disposing</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_EnsureOpen_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.EnsureOpen*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_EnsureOpen" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.EnsureOpen">EnsureOpen()</h4>
  <div class="markdown level1 summary"><p>Verifies that this instance wasn't closed, or throws
<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a> if it is.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">protected void EnsureOpen()</code></pre>
  </div>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_FindCategory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.FindCategory*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_FindCategory_Lucene_Net_Facet_Taxonomy_FacetLabel_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.FindCategory(Lucene.Net.Facet.Taxonomy.FacetLabel)">FindCategory(FacetLabel)</h4>
  <div class="markdown level1 summary"><p>Look up the given category in the cache and/or the on-disk storage,
returning the category's ordinal, or a negative number in case the
category does not yet exist in the taxonomy.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">protected virtual int FindCategory(FacetLabel categoryPath)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Lucene.Net.Facet.Taxonomy.FacetLabel.html">FacetLabel</a></td>
        <td><span class="parametername">categoryPath</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_GetParent_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.GetParent*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_GetParent_System_Int32_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.GetParent(System.Int32)">GetParent(int)</h4>
  <div class="markdown level1 summary"><p><a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_GetParent_System_Int32_">GetParent(int)</a> returns the ordinal of the parent category of the category
with the given ordinal.</p>
<p>
When a category is specified as a path name, finding the path of its
parent is as trivial as dropping the last component of the path.
<a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_GetParent_System_Int32_">GetParent(int)</a> is functionally equivalent to calling <a class="xref" href="Lucene.Net.Facet.Taxonomy.TaxonomyReader.html#Lucene_Net_Facet_Taxonomy_TaxonomyReader_GetPath_System_Int32_">GetPath(int)</a> on the
given ordinal, dropping the last component of the path, and then calling
<a class="xref" href="Lucene.Net.Facet.Taxonomy.TaxonomyReader.html#Lucene_Net_Facet_Taxonomy_TaxonomyReader_GetOrdinal_Lucene_Net_Facet_Taxonomy_FacetLabel_">GetOrdinal(FacetLabel)</a> to get an ordinal back.
</p><p>
If the given ordinal is the <a class="xref" href="Lucene.Net.Facet.Taxonomy.TaxonomyReader.html#Lucene_Net_Facet_Taxonomy_TaxonomyReader_ROOT_ORDINAL">ROOT_ORDINAL</a>, an 
<a class="xref" href="Lucene.Net.Facet.Taxonomy.TaxonomyReader.html#Lucene_Net_Facet_Taxonomy_TaxonomyReader_INVALID_ORDINAL">INVALID_ORDINAL</a> is returned.
If the given ordinal is a top-level category, the 
<a class="xref" href="Lucene.Net.Facet.Taxonomy.TaxonomyReader.html#Lucene_Net_Facet_Taxonomy_TaxonomyReader_ROOT_ORDINAL">ROOT_ORDINAL</a> is returned.
If an invalid ordinal is given (negative or beyond the last available
ordinal), an <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentoutofrangeexception">ArgumentOutOfRangeException</a> is thrown. However, it is
expected that <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_GetParent_System_Int32_">GetParent(int)</a> will only be called for ordinals which are
already known to be in the taxonomy.
</p><p>
TODO (Facet): instead of a <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_GetParent_System_Int32_">GetParent(ordinal)</a> method, consider having a
GetCategory(categorypath, prefixlen) which is similar to <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_AddCategory_Lucene_Net_Facet_Taxonomy_FacetLabel_">AddCategory(FacetLabel)</a>
except it doesn't add new categories; This method can be used to get
the ordinals of all prefixes of the given category, and it can use
exactly the same code and cache used by <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html#Lucene_Net_Facet_Taxonomy_ITaxonomyWriter_AddCategory_Lucene_Net_Facet_Taxonomy_FacetLabel_">AddCategory(FacetLabel)</a> so it means less code.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual int GetParent(int ordinal)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></td>
        <td><span class="parametername">ordinal</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_PrepareCommit_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.PrepareCommit*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_PrepareCommit" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.PrepareCommit">PrepareCommit()</h4>
  <div class="markdown level1 summary"><p>prepare most of the work needed for a two-phase commit.
See <span class="xref">Lucene.Net.Index.IndexWriter.PrepareCommit()</span>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void PrepareCommit()</code></pre>
  </div>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_ReplaceTaxonomy_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.ReplaceTaxonomy*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_ReplaceTaxonomy_Lucene_Net_Store_Directory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.ReplaceTaxonomy(Lucene.Net.Store.Directory)">ReplaceTaxonomy(Directory)</h4>
  <div class="markdown level1 summary"><p>Replaces the current taxonomy with the given one. This method should
generally be called in conjunction with
<span class="xref">Lucene.Net.Index.IndexWriter.AddIndexes(params Lucene.Net.Store.Directory[])</span> to replace both the taxonomy
as well as the search index content.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void ReplaceTaxonomy(Directory taxoDir)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">taxoDir</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Rollback_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Rollback*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Rollback" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Rollback">Rollback()</h4>
  <div class="markdown level1 summary"><p>Rollback changes to the taxonomy writer and closes the instance. Following
this method the instance becomes unusable (calling any of its API methods
will yield an <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.objectdisposedexception">ObjectDisposedException</a>).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void Rollback()</code></pre>
  </div>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_SetCacheMissesUntilFill_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.SetCacheMissesUntilFill*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_SetCacheMissesUntilFill_System_Int32_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.SetCacheMissesUntilFill(System.Int32)">SetCacheMissesUntilFill(int)</h4>
  <div class="markdown level1 summary"><p>Set the number of cache misses before an attempt is made to read the entire
taxonomy into the in-memory cache.</p>
<p>
This taxonomy writer holds an in-memory cache of recently seen categories
to speed up operation. On each cache-miss, the on-disk index needs to be
consulted. When an existing taxonomy is opened, a lot of slow disk reads
like that are needed until the cache is filled, so it is more efficient to
read the entire taxonomy into memory at once. We do this complete read
after a certain number (defined by this method) of cache misses.
</p><p>
If the number is set to <code>0</code>, the entire taxonomy is read into the
cache on first use, without fetching individual categories first.
</p><p>
NOTE: it is assumed that this method is called immediately after the
taxonomy writer has been created.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void SetCacheMissesUntilFill(int i)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></td>
        <td><span class="parametername">i</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_SetCommitData_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.SetCommitData*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_SetCommitData_System_Collections_Generic_IDictionary_System_String_System_String__" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.SetCommitData(System.Collections.Generic.IDictionary{System.String,System.String})">SetCommitData(IDictionary&lt;string, string&gt;)</h4>
  <div class="markdown level1 summary"><p>Sets the commit user data map. That method is considered a transaction and
will be committed (<span class="xref">Lucene.Net.Index.IndexWriter.Commit()</span>) even if no other changes were made to
the writer instance.</p>
<p><b>NOTE:</b> the map is cloned internally, therefore altering the map's
contents after calling this method has no effect.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public virtual void SetCommitData(IDictionary&lt;string, string&gt; commitUserData)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.idictionary-2">IDictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</td>
        <td><span class="parametername">commitUserData</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Unlock_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Unlock*"></a>
  <h4 id="Lucene_Net_Facet_Taxonomy_Directory_DirectoryTaxonomyWriter_Unlock_Lucene_Net_Store_Directory_" data-uid="Lucene.Net.Facet.Taxonomy.Directory.DirectoryTaxonomyWriter.Unlock(Lucene.Net.Store.Directory)">Unlock(Directory)</h4>
  <div class="markdown level1 summary"><p>Forcibly unlocks the taxonomy in the named directory.</p>
<p></p>
Caution: this should only be used by failure recovery code, when it is
known that no other process nor thread is in fact currently accessing
this taxonomy.
<p></p>
This method is unnecessary if your <span class="xref">Lucene.Net.Store.Directory</span> uses a
<span class="xref">Lucene.Net.Store.NativeFSLockFactory</span> instead of the default
<span class="xref">Lucene.Net.Store.SimpleFSLockFactory</span>. When the "native" lock is used, a lock
does not stay behind forever when the process using it dies.
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public static void Unlock(Directory directory)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Directory</span></td>
        <td><span class="parametername">directory</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Lucene.Net.Facet.Taxonomy.ITaxonomyWriter.html">ITaxonomyWriter</a>
  </div>
  <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a>
  </div>
  <div>
      <span class="xref">Lucene.Net.Index.ITwoPhaseCommit</span>
  </div>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      Copyright &copy; 2024 The Apache Software Foundation, Licensed under the <a href='http://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache License, Version 2.0</a><br> <small>Apache Lucene.Net, Lucene.Net, Apache, the Apache feather logo, and the Apache Lucene.Net project logo are trademarks of The Apache Software Foundation. <br>All other marks mentioned may be trademarks or registered trademarks of their respective owners.</small>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.js"></script>
    <script type="text/javascript" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/main.js"></script>
  </body>
</html>
