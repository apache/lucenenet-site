<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Namespace Lucene.Net.Analysis.OpenNlp
 | Apache Lucene.NET 4.8.0-beta00017 Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Namespace Lucene.Net.Analysis.OpenNlp
 | Apache Lucene.NET 4.8.0-beta00017 Documentation ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/logo/favicon.ico">
    <link rel="stylesheet" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.vendor.min.css">
    <link rel="stylesheet" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.css">
    <link rel="stylesheet" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="analysis-opennlp/toc.html">
  
  <meta property="docfx:rel" content="https://lucenenet.apache.org/docs/4.8.0-beta00017/">
  
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <span id="forkongithub"><a href="https://github.com/apache/lucenenet" target="_blank">Fork me on GitHub</a></span>
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="/">
                <img id="logo" class="svg" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/logo/lucene-net-color.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search">
            <ul class="level0 breadcrumb">
                <li>
                    <a href="https://lucenenet.apache.org/docs/4.8.0-beta00017/">API</a>
                     <span id="breadcrumb">
                        <ul class="breadcrumb">
                          <li></li>
                        </ul>
                    </span>   
                </li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Lucene.Net.Analysis.OpenNlp">

  <h1 id="Lucene_Net_Analysis_OpenNlp" data-uid="Lucene.Net.Analysis.OpenNlp" class="text-break">Namespace Lucene.Net.Analysis.OpenNlp
</h1>
  <div class="markdown level0 summary"><!--
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<p>OpenNLP Library Integration</p>
<p>This module exposes functionality from Apache OpenNLP to Apache Lucene.NET. The Apache OpenNLP library is a machine learning based toolkit for the processing of natural language text.</p>
<p>For an introduction to Lucene's analysis API, see the <a href="../core/Lucene.Net.Analysis.html">Lucene.Net.Analysis</a> namespace documentation.</p>
<p>The OpenNLP Tokenizer behavior is similar to the <a class="xref" href="https://lucenenet.apache.org/docs/4.8.0-beta00017/api/analysis-common/Lucene.Net.Analysis.Core.WhitespaceTokenizer.html">WhitespaceTokenizer</a> but is smart about inter-word punctuation. The term stream looks very much like the way you parse words and punctuation while reading. The major difference between this tokenizer and most other tokenizers shipped with Lucene is that punctuation is tokenized. This is required for the following taggers to operate properly.</p>
<p>The OpenNLP taggers annotate terms using the &lt;xref:Lucene.Net.Analysis.TokenAttributes.ITypeAttribute&gt;.</p>
<ul>
<li><p><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPTokenizer.html">OpenNLPTokenizer</a> segments text into sentences or words. This Tokenizer uses the OpenNLP Sentence Detector and/or Tokenizer classes. When used together, the Tokenizer receives sentences and can do a better job.</p>
</li>
<li><p><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPPOSFilter.html">OpenNLPPOSFilter</a> tags words for Part-of-Speech and <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPChunkerFilter.html">OpenNLPChunkerFilter</a> tags words for Chunking. These tags are assigned as token types. Note that only one of these operations will tag
Since the &lt;xref:Lucene.Net.Analysis.TokenAttributes.ITypeAttribute&gt; is not stored in the index, it is recommended that one of these filters is used following OpenNLPFilter to enable search against the assigned tags:</p>
</li>
<li><p>&lt;xref:Lucene.Net.Analysis.Payloads.TypeAsPayloadTokenFilter&gt; copies the &lt;xref:Lucene.Net.Analysis.TokenAttributes.ITypeAttribute&gt; value to the &lt;xref:Lucene.Net.Analysis.TokenAttributes.IPayloadAttribute&gt;</p>
</li>
<li><p>&lt;xref:Lucene.Net.Analysis.Miscellaneous.TypeAsSynonymFilter&gt; creates a cloned token at the same position as each tagged token, and copies the &lt;xref:Lucene.Net.Analysis.TokenAttributes.ITypeAttribute&gt; value to the &lt;xref:Lucene.Net.Analysis.TokenAttributes.ICharTermAttribute&gt;, optionally with a customized prefix (so that tags effectively occupy a different namespace from token text).</p>
</li>
</ul>
<p>Named Entity Recognition is also supported by OpenNLP, but there is no OpenNLPNERFilter included. For an implementation, see the <a href="https://github.com/NightOwl888/lucenenet-opennlp-mavenreference-demo">lucenenet-opennlp-mavenreference-demo</a>.</p>
<h2 id="mavenreference-primer">MavenReference Primer</h2>
<p>When a <code>&lt;PackageReference&gt;</code> is included for this NuGet package in your SDK-style MSBuild project, it will automatically include transitive dependencies to <a href="https://search.maven.org/artifact/org.apache.opennlp/opennlp-tools/1.9.4/bundle"><code>opennlp-tools</code> on maven.org</a>. The transitive dependency will automatically include a <code>&lt;MavenReference&gt;</code> in your MSBuild project.</p>
<p>The <code>&lt;MavenReference&gt;</code> item group operates similar to a dependency in Maven. All transitive dependencies are collected and resolved, and then the final output is produced. However, unlike <code>PackageReference</code>s, <code>MavenReference</code>s are collected by the final output project, and reassessed. That is, each dependent Project within your .NET SDK-style solution contributes its <code>MavenReference</code>s to project(s) which include it, and each project makes its own dependency graph. Projects do not contribute their final built assemblies up. They only contribute their dependencies. Allowing each project in a complicated solution to make its own local conflict resolution attempt.</p>
<div class="NOTE">
<h5>Note</h5>
<p><code>&lt;MavenReference&gt;</code> is only supported on SDK-style MSBuild projects.</p>
</div>
<h2 id="mavenreference-example">MavenReference Example</h2>
<p>This means this package can be combined with other related packages on Maven in your project and they can be accessed using the same path as in Java like a namespace in .NET. For example, you can add a <code>&lt;MavenReference&gt;</code> to your project to include a reference to <a href="https://search.maven.org/artifact/org.apache.opennlp/opennlp-uima/1.9.1/jar"><code>opennlp-uima</code></a>. The UIMA (Unstructured Information Management Architecture) integration module is designed to work with the Apache UIMA framework. UIMA is a framework for building applications that analyze unstructured information, and it's often used for processing natural language text. The opennlp-uima module allows you to integrate OpenNLP functionality into UIMA pipelines, leveraging the capabilities of both frameworks.</p>
<p>Here's a basic outline of how you might extend an existing Lucene.NET analyzer to incorporate OpenNLP-UIMA annotators:</p>
<pre><code class="lang-xml">&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;
  &lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;
  &lt;/PropertyGroup&gt;

  &lt;ItemGroup&gt;
    &lt;PackageReference Include=&quot;Lucene.Net.Analysis.OpenNLP&quot; Version=&quot;4.8.0-beta00017&quot; /&gt;
  &lt;/ItemGroup&gt;

  &lt;ItemGroup&gt;
    &lt;MavenReference Include=&quot;org.apache.opennlp:opennlp-uima&quot; Version=&quot;1.9.1&quot; /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<pre><code class="lang-c#">using Lucene.Net.Analysis;
using Lucene.Net.Analysis.Core;
using Lucene.Net.Analysis.Util;
using Lucene.Net.Util;
using org.apache.uima.analysis_engine;
using System.IO;

public class CustomOpenNLPAnalyzer : OpenNLPTokenizerFactory
{
    // ... constructor and other methods ...

    public override Tokenizer Create(AttributeFactory factory, TextReader reader)
    {
        Tokenizer tokenizer = base.Create(factory, reader);

        // Wrap the tokenizer with UIMA annotators
        AnalysisEngineDescription uimaSentenceAnnotator = CreateUIMASentenceAnnotator();
        AnalysisEngineDescription uimaTokenAnnotator = CreateUIMATokenAnnotator();

        // Combine OpenNLP-UIMA annotators with the existing tokenizer
        AnalysisEngine tokenizerAndUIMAAnnotators = CreateAggregate(uimaSentenceAnnotator, uimaTokenAnnotator);

        return new UIMATokenizer(tokenizer, tokenizerAndUIMAAnnotators);
    }

    // ... other methods ...

    private AnalysisEngineDescription CreateUIMASentenceAnnotator() {
        // Create and configure UIMA sentence annotator
        // ...

        return /* UIMA sentence annotator description */;
    }

    private AnalysisEngineDescription CreateUIMATokenAnnotator() {
        // Create and configure UIMA token annotator
        // ...

        return /* UIMA token annotator description */;
    }
}
</code></pre>
<p>In the above example, <code>CustomOpenNLPAnalyzer</code> extends <code>OpenNLPTokenizerFactory</code> (assuming that's the analyzer you're using), and it wraps the OpenNLP tokenizer with UIMA annotators. You'll need to replace the placeholder methods (<code>CreateUIMASentenceAnnotator</code> and <code>CreateUIMATokenAnnotator</code>) with the actual code to create and configure your UIMA annotators. Please note that configuring NLP can be complex. See the <a href="https://opennlp.apache.org/docs/1.9.4/manual/opennlp.html">OpenNLP 1.9.4 Manual</a> and <a href="https://opennlp.apache.org/docs/1.9.4/apidocs/opennlp-uima/index.html">OpenNLP UIMA 1.9.4 API Documention</a> for details.</p>
<div class="NOTE">
<h5>Note</h5>
<p>IKVM (and <code>&lt;MavenReference&gt;</code>) does not support Java SE higher than version 8. So it will not be possible to add a <code>&lt;MavenReference&gt;</code> to OpenNLP 2.x until support is added for it in IKVM.</p>
</div>
<p>For a more complete example, see the <a href="https://github.com/NightOwl888/lucenenet-opennlp-mavenreference-demo">lucenenet-opennlp-mavenreference-demo</a>.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="markdown level0 remarks"></div>
    <h3 id="classes">Classes
</h3>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPChunkerFilter.html">OpenNLPChunkerFilter</a></h4>
      <section><p>Run OpenNLP chunker. Prerequisite: the <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPTokenizer.html">OpenNLPTokenizer</a> and <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPPOSFilter.html">OpenNLPPOSFilter</a> must precede this filter.
Tags terms in the <span class="xref">Lucene.Net.Analysis.TokenAttributes.ITypeAttribute</span>, replacing the POS tags previously put there by <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPPOSFilter.html">OpenNLPPOSFilter</a>.</p>
<p></p>
The <span class="xref">Lucene.Net.Analysis.Payloads.TypeAsPayloadTokenFilter</span> can be used to copy the POS tag values to
<span class="xref">Lucene.Net.Analysis.TokenAttributes.IPayloadAttribute</span>, which will index the value. Alternatively, the
<span class="xref">Lucene.Net.Analysis.Miscellaneous.TypeAsSynonymFilter</span> creates a cloned token at the same position as
each tagged token, and copies the <span class="xref">Lucene.Net.Analysis.TokenAttributes.ITypeAttribute</span> value to the
<span class="xref">Lucene.Net.Analysis.TokenAttributes.ICharTermAttribute</span>, optionally with a customized prefix
(so that tags effectively occupy a different namespace from token text).
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPChunkerFilterFactory.html">OpenNLPChunkerFilterFactory</a></h4>
      <section><p>Factory for <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPChunkerFilter.html">OpenNLPChunkerFilter</a>.</p>
<pre><code class="lang-csharp">&lt;fieldType name="text_opennlp_chunked" class="solr.TextField" positionIncrementGap="100"&gt;
  &lt;analyzer&gt;
    &lt;tokenizer class="solr.OpenNLPTokenizerFactory" sentenceModel="filename" tokenizerModel="filename"/&gt;
    &lt;filter class="solr.OpenNLPPOSFilterFactory" posTaggerModel="filename"/&gt;
    &lt;filter class="solr.OpenNLPChunkerFilterFactory" chunkerModel="filename"/&gt;
  &lt;/analyzer&gt;
&lt;/fieldType&gt;</code></pre>
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPLemmatizerFilter.html">OpenNLPLemmatizerFilter</a></h4>
      <section><p>Runs OpenNLP dictionary-based and/or MaxEnt lemmatizers.</p>
<p></p>
Both a dictionary-based lemmatizer and a MaxEnt lemmatizer are supported,
via the "dictionary" and "lemmatizerModel" params, respectively.
If both are configured, the dictionary-based lemmatizer is tried first,
and then the MaxEnt lemmatizer is consulted for out-of-vocabulary tokens.
<p></p>
The dictionary file must be encoded as UTF-8, with one entry per line,
in the form <code>word[tab]lemma[tab]part-of-speech</code>
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPLemmatizerFilterFactory.html">OpenNLPLemmatizerFilterFactory</a></h4>
      <section><p>Factory for <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPLemmatizerFilter.html">OpenNLPLemmatizerFilter</a>.</p>
<pre><code class="lang-csharp">&lt;fieldType name="text_opennlp_lemma" class="solr.TextField" positionIncrementGap="100"
  &lt;analyzer&gt;
    &lt;tokenizer class="solr.OpenNLPTokenizerFactory"
               sentenceModel="filename"
               tokenizerModel="filename"/&gt;
    /&gt;
    &lt;filter class="solr.OpenNLPLemmatizerFilterFactory"
            dictionary="filename"
            lemmatizerModel="filename"/&gt;
  &lt;/analyzer&gt;
&lt;/fieldType&gt;</code></pre>
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPPOSFilter.html">OpenNLPPOSFilter</a></h4>
      <section><p>Run OpenNLP POS tagger.  Tags all terms in the <span class="xref">Lucene.Net.Analysis.TokenAttributes.ITypeAttribute</span>.</p>
<p></p>
The <span class="xref">Lucene.Net.Analysis.Payloads.TypeAsPayloadTokenFilter</span> can be used to copy the POS tag values to
<span class="xref">Lucene.Net.Analysis.TokenAttributes.IPayloadAttribute</span>, which will index the value. Alternatively, the
<span class="xref">Lucene.Net.Analysis.Miscellaneous.TypeAsSynonymFilter</span> creates a cloned token at the same position as
each tagged token, and copies the <span class="xref">Lucene.Net.Analysis.TokenAttributes.ITypeAttribute</span> value to the
<span class="xref">Lucene.Net.Analysis.TokenAttributes.ICharTermAttribute</span>, optionally with a customized prefix
(so that tags effectively occupy a different namespace from token text).
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPPOSFilterFactory.html">OpenNLPPOSFilterFactory</a></h4>
      <section><p>Factory for <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPPOSFilter.html">OpenNLPPOSFilter</a>.</p>
<pre><code class="lang-csharp">&lt;fieldType name="text_opennlp_pos" class="solr.TextField" positionIncrementGap="100"&gt;
  &lt;analyzer&gt;
    &lt;tokenizer class="solr.OpenNLPTokenizerFactory" sentenceModel="filename" tokenizerModel="filename"/&gt;
    &lt;filter class="solr.OpenNLPPOSFilterFactory" posTaggerModel="filename"/&gt;
  &lt;/analyzer&gt;
&lt;/fieldType&gt;</code></pre>
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPSentenceBreakIterator.html">OpenNLPSentenceBreakIterator</a></h4>
      <section><p>A <span class="xref">ICU4N.Text.BreakIterator</span> that splits sentences using an OpenNLP sentence chunking model.</p>
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPTokenizer.html">OpenNLPTokenizer</a></h4>
      <section><p>Run OpenNLP SentenceDetector and <span class="xref">Lucene.Net.Analysis.Tokenizer</span>.
The last token in each sentence is marked by setting the <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPTokenizer.html#Lucene_Net_Analysis_OpenNlp_OpenNLPTokenizer_EOS_FLAG_BIT">EOS_FLAG_BIT</a> in the <span class="xref">Lucene.Net.Analysis.TokenAttributes.IFlagsAttribute</span>;
following filters can use this information to apply operations to tokens one sentence at a time.</p>
</section>
      <h4><a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPTokenizerFactory.html">OpenNLPTokenizerFactory</a></h4>
      <section><p>Factory for <a class="xref" href="Lucene.Net.Analysis.OpenNlp.OpenNLPTokenizer.html">OpenNLPTokenizer</a>.</p>
<pre><code class="lang-csharp">&lt;fieldType name="text_opennlp" class="solr.TextField" positionIncrementGap="100"
  &lt;analyzer&gt;
    &lt;tokenizer class="solr.OpenNLPTokenizerFactory" sentenceModel="filename" tokenizerModel="filename"/&gt;
  &lt;/analyzer&gt;
&lt;/fieldType&gt;</code></pre>
</section>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      Copyright &copy; 2024 The Apache Software Foundation, Licensed under the <a href='http://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache License, Version 2.0</a><br> <small>Apache Lucene.Net, Lucene.Net, Apache, the Apache feather logo, and the Apache Lucene.Net project logo are trademarks of The Apache Software Foundation. <br>All other marks mentioned may be trademarks or registered trademarks of their respective owners.</small>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/docfx.js"></script>
    <script type="text/javascript" src="https://lucenenet.apache.org/docs/4.8.0-beta00017/styles/main.js"></script>
  </body>
</html>
