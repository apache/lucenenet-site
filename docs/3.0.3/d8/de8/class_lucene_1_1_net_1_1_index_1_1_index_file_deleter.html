<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>Lucene.Net: Lucene.Net.Index.IndexFileDeleter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../lucene-net-icon-128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lucene.Net
   &#160;<span id="projectnumber">3.0.3</span>
   </div>
   <div id="projectbrief">Lucene.Net is a port of the Lucene search engine library, written in C# and targeted at .NET runtime users.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../df/d7a/namespace_lucene.html">Lucene</a></li><li class="navelem"><a class="el" href="../../d3/dd0/namespace_lucene_1_1_net.html">Net</a></li><li class="navelem"><a class="el" href="../../da/d43/namespace_lucene_1_1_net_1_1_index.html">Index</a></li><li class="navelem"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html">IndexFileDeleter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="../../da/ddd/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Lucene.Net.Index.IndexFileDeleter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p> 
 <a href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#details">More...</a></p>

<p>Inherits IDisposable.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6621237042d2ac99cdf17bd422d29fc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#a6621237042d2ac99cdf17bd422d29fc6">IndexFileDeleter</a> (<a class="el" href="../../dd/df1/_syns2_index_8cs.html#aada057080323f6e867d8f9c189276716">Directory</a> directory, <a class="el" href="../../d7/d90/interface_lucene_1_1_net_1_1_index_1_1_index_deletion_policy.html">IndexDeletionPolicy</a> policy, <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html">SegmentInfos</a> segmentInfos, System.IO.StreamWriter infoStream, <a class="el" href="../../d6/db8/class_lucene_1_1_net_1_1_index_1_1_documents_writer.html">DocumentsWriter</a> docWriter, HashSet&lt; string &gt; synced)</td></tr>
<tr class="memdesc:a6621237042d2ac99cdf17bd422d29fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the deleter: find all previous commits in the Directory, incref the files they reference, call the policy to let it delete commits. This will remove any files not referenced by any of the commits.  <a href="#a6621237042d2ac99cdf17bd422d29fc6"></a><br/></td></tr>
<tr class="separator:a6621237042d2ac99cdf17bd422d29fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ce15cc9a082ddc12ee6b789ad97705"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#af5ce15cc9a082ddc12ee6b789ad97705">Refresh</a> (System.String segmentName)</td></tr>
<tr class="memdesc:af5ce15cc9a082ddc12ee6b789ad97705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writer calls this when it has hit an error and had to roll back, to tell us that there may now be unreferenced files in the filesystem. So we re-list the filesystem and delete such files. If segmentName is non-null, we will only delete files corresponding to that segment.  <a href="#af5ce15cc9a082ddc12ee6b789ad97705"></a><br/></td></tr>
<tr class="separator:af5ce15cc9a082ddc12ee6b789ad97705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25fa75be4cdf17fc0eb96d5ff8624e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#ac25fa75be4cdf17fc0eb96d5ff8624e1">Refresh</a> ()</td></tr>
<tr class="separator:ac25fa75be4cdf17fc0eb96d5ff8624e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34045ba5cdc7ffde7beaf03fc798210a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#a34045ba5cdc7ffde7beaf03fc798210a">Dispose</a> ()</td></tr>
<tr class="separator:a34045ba5cdc7ffde7beaf03fc798210a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3257b95c2034de8f926e54e88509fef8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#a3257b95c2034de8f926e54e88509fef8">Checkpoint</a> (<a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html">SegmentInfos</a> segmentInfos, bool isCommit)</td></tr>
<tr class="memdesc:a3257b95c2034de8f926e54e88509fef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">For definition of "check point" see <a class="el" href="../../d2/d1d/class_lucene_1_1_net_1_1_index_1_1_index_writer.html" title="An IndexWriter creates and maintains an index. The create argument to the constructor determines whet...">IndexWriter</a> comments: "Clarification: Check Points (and commits)".  <a href="#a3257b95c2034de8f926e54e88509fef8"></a><br/></td></tr>
<tr class="separator:a3257b95c2034de8f926e54e88509fef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b96841721e5b6647815b1308b3ae02"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#ad6b96841721e5b6647815b1308b3ae02">Exists</a> (String fileName)</td></tr>
<tr class="separator:ad6b96841721e5b6647815b1308b3ae02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abbb2776d97c2374e6a339426195fbf9c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#abbb2776d97c2374e6a339426195fbf9c">VERBOSE_REF_COUNTS</a> = false</td></tr>
<tr class="memdesc:abbb2776d97c2374e6a339426195fbf9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change to true to see details of reference counts when infoStream != null  <a href="#abbb2776d97c2374e6a339426195fbf9c"></a><br/></td></tr>
<tr class="separator:abbb2776d97c2374e6a339426195fbf9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a2a244e7d58d833aa39ed07a9c185e505"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html">SegmentInfos</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html#a2a244e7d58d833aa39ed07a9c185e505">LastSegmentInfos</a><code> [get]</code></td></tr>
<tr class="separator:a2a244e7d58d833aa39ed07a9c185e505"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class keeps track of each <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a> instance that is still "live", either because it corresponds to a segments_N file in the Directory (a "commit", i.e. a committed <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a>) or because it's an in-memory <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a> that a writer is actively updating but has not yet committed. This class uses simple reference counting to map the live <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a> instances to individual files in the Directory.</p>
<p>The same directory file may be referenced by more than one <a class="el" href="../../d8/de7/class_lucene_1_1_net_1_1_index_1_1_index_commit.html" title="Expert: represents a single commit into an index as seen by the IndexDeletionPolicy or IndexReader...">IndexCommit</a>, i.e. more than one <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a>. Therefore we count how many commits reference each file. When all the commits referencing a certain file have been deleted, the refcount for that file becomes zero, and the file is deleted.</p>
<p>A separate deletion policy interface (<a class="el" href="../../d7/d90/interface_lucene_1_1_net_1_1_index_1_1_index_deletion_policy.html" title="Expert: policy for deletion of stale index commits.">IndexDeletionPolicy</a>) is consulted on creation (onInit) and once per commit (onCommit), to decide when a commit should be removed.</p>
<p>It is the business of the <a class="el" href="../../d7/d90/interface_lucene_1_1_net_1_1_index_1_1_index_deletion_policy.html" title="Expert: policy for deletion of stale index commits.">IndexDeletionPolicy</a> to choose when to delete commit points. The actual mechanics of file deletion, retrying, etc, derived from the deletion of commit points is the business of the <a class="el" href="../../d8/de8/class_lucene_1_1_net_1_1_index_1_1_index_file_deleter.html">IndexFileDeleter</a>.</p>
<p>The current default deletion policy is <a class="el" href="../../d8/d88/class_lucene_1_1_net_1_1_index_1_1_keep_only_last_commit_deletion_policy.html" title="This IndexDeletionPolicy implementation that keeps only the most recent commit and immediately remove...">KeepOnlyLastCommitDeletionPolicy</a>, which removes all prior commits when a new commit has completed. This matches the behavior before 2.2.</p>
<p>Note that you must hold the write.lock before instantiating this class. It opens segments_N file(s) directly with no retry logic.</p>

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00063">63</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6621237042d2ac99cdf17bd422d29fc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Lucene.Net.Index.IndexFileDeleter.IndexFileDeleter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df1/_syns2_index_8cs.html#aada057080323f6e867d8f9c189276716">Directory</a>&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d90/interface_lucene_1_1_net_1_1_index_1_1_index_deletion_policy.html">IndexDeletionPolicy</a>&#160;</td>
          <td class="paramname"><em>policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html">SegmentInfos</a>&#160;</td>
          <td class="paramname"><em>segmentInfos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">System.IO.StreamWriter&#160;</td>
          <td class="paramname"><em>infoStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/db8/class_lucene_1_1_net_1_1_index_1_1_documents_writer.html">DocumentsWriter</a>&#160;</td>
          <td class="paramname"><em>docWriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HashSet&lt; string &gt;&#160;</td>
          <td class="paramname"><em>synced</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the deleter: find all previous commits in the Directory, incref the files they reference, call the policy to let it delete commits. This will remove any files not referenced by any of the commits. </p>
<p>&lt;throws&gt; <a class="el" href="../../d6/d74/class_lucene_1_1_net_1_1_index_1_1_corrupt_index_exception.html" title="This exception is thrown when Lucene detects an inconsistency in the index. ">CorruptIndexException</a> if the index is corrupt &lt;/throws&gt; &lt;throws&gt; IOException if there is a low-level IO error &lt;/throws&gt; </p>

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00126">126</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3257b95c2034de8f926e54e88509fef8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Lucene.Net.Index.IndexFileDeleter.Checkpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html">SegmentInfos</a>&#160;</td>
          <td class="paramname"><em>segmentInfos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCommit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For definition of "check point" see <a class="el" href="../../d2/d1d/class_lucene_1_1_net_1_1_index_1_1_index_writer.html" title="An IndexWriter creates and maintains an index. The create argument to the constructor determines whet...">IndexWriter</a> comments: "Clarification: Check Points (and commits)". </p>
<p>Writer calls this when it has made a "consistent
change" to the index, meaning new files are written to the index and the in-memory <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a> have been modified to point to those files.</p>
<p>This may or may not be a commit (segments_N may or may not have been written).</p>
<p>We simply incref the files referenced by the new <a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html" title="A collection of segmentInfo objects with methods for operating on those segments in relation to the f...">SegmentInfos</a> and decref the files we had previously seen (if any).</p>
<p>If this is a commit, we also call the policy to give it a chance to remove other commits. If any commits are removed, we decref their files as well. </p>

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00436">436</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a34045ba5cdc7ffde7beaf03fc798210a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Lucene.Net.Index.IndexFileDeleter.Dispose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00384">384</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad6b96841721e5b6647815b1308b3ae02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Lucene.Net.Index.IndexFileDeleter.Exists </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00564">564</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af5ce15cc9a082ddc12ee6b789ad97705"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Lucene.Net.Index.IndexFileDeleter.Refresh </td>
          <td>(</td>
          <td class="paramtype">System.String&#160;</td>
          <td class="paramname"><em>segmentName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writer calls this when it has hit an error and had to roll back, to tell us that there may now be unreferenced files in the filesystem. So we re-list the filesystem and delete such files. If segmentName is non-null, we will only delete files corresponding to that segment. </p>

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00347">347</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac25fa75be4cdf17fc0eb96d5ff8624e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Lucene.Net.Index.IndexFileDeleter.Refresh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00379">379</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abbb2776d97c2374e6a339426195fbf9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Lucene.Net.Index.IndexFileDeleter.VERBOSE_REF_COUNTS = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change to true to see details of reference counts when infoStream != null </p>

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00103">103</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a2a244e7d58d833aa39ed07a9c185e505"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d44/class_lucene_1_1_net_1_1_index_1_1_segment_infos.html">SegmentInfos</a> Lucene.Net.Index.IndexFileDeleter.LastSegmentInfos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html#l00283">283</a> of file <a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>core/Index/<a class="el" href="../../d8/d2e/_index_file_deleter_8cs_source.html">IndexFileDeleter.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 3 2013 02:34:18 for Lucene.Net by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
